!function(a){a(document).ready(function(){a("body").append('<div id="supersized-loader"></div><ul id="supersized"></ul>')}),a.supersized=function(b){var c="#supersized",d=this;d.$el=a(c),d.el=c,vars=a.supersized.vars,d.$el.data("supersized",d),api=d.$el.data("supersized"),d.init=function(){a.supersized.vars=a.extend(a.supersized.vars,a.supersized.themeVars),a.supersized.vars.options=a.extend({},a.supersized.defaultOptions,a.supersized.themeOptions,b),d.options=a.supersized.vars.options,d._build()},d._build=function(){for(var f,h,b=0,c="",e="",g="";b<=d.options.slides.length-1;){switch(d.options.slide_links){case"num":f=b;break;case"name":f=d.options.slides[b].title;break;case"blank":f=""}c=c+'<li class="slide-'+b+'"></li>',b==d.options.start_slide-1?(d.options.slide_links&&(e=e+'<li class="slide-link-'+b+' current-slide"><a>'+f+"</a></li>"),d.options.thumb_links&&(h=d.options.slides[b].thumb?d.options.slides[b].thumb:d.options.slides[b].image,g=g+'<li class="thumb'+b+' current-thumb"><img src="'+h+'"/></li>')):(d.options.slide_links&&(e=e+'<li class="slide-link-'+b+'" ><a>'+f+"</a></li>"),d.options.thumb_links&&(h=d.options.slides[b].thumb?d.options.slides[b].thumb:d.options.slides[b].image,g=g+'<li class="thumb'+b+'"><img src="'+h+'"/></li>')),b++}d.options.slide_links&&a(vars.slide_list).html(e),d.options.thumb_links&&vars.thumb_tray.length&&a(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace("#","")+'">'+g+"</ul>"),a(d.el).append(c),d.options.thumbnail_navigation&&(prevThumb=vars.current_slide-1<0?d.options.slides.length-1:vars.current_slide-1,a(vars.prev_thumb).show().html(a("<img/>").attr("src",d.options.slides[prevThumb].image)),nextThumb=vars.current_slide==d.options.slides.length-1?0:vars.current_slide+1,a(vars.next_thumb).show().html(a("<img/>").attr("src",d.options.slides[nextThumb].image))),d._start()},d._start=function(){vars.current_slide=d.options.start_slide?d.options.start_slide-1:Math.floor(Math.random()*d.options.slides.length);var b=d.options.new_window?' target="_blank"':"";if(3==d.options.performance?d.$el.addClass("speed"):(1==d.options.performance||2==d.options.performance)&&d.$el.addClass("quality"),d.options.random){arr=d.options.slides;for(var c,e,f=arr.length;f;c=parseInt(Math.random()*f),e=arr[--f],arr[f]=arr[c],arr[c]=e);d.options.slides=arr}if(d.options.slides.length>1){if(d.options.slides.length>2){loadPrev=vars.current_slide-1<0?d.options.slides.length-1:vars.current_slide-1;var g=d.options.slides[loadPrev].url?"href='"+d.options.slides[loadPrev].url+"'":"",h=a('<img src="'+d.options.slides[loadPrev].image+'"/>'),i=d.el+" li:eq("+loadPrev+")";h.appendTo(i).wrap("<a "+g+b+"></a>").parent().parent().addClass("image-loading prevslide"),h.load(function(){a(this).data("origWidth",a(this).width()).data("origHeight",a(this).height()),d.resizeNow()})}}else d.options.slideshow=0;g=api.getField("url")?"href='"+api.getField("url")+"'":"";var j=a('<img src="'+api.getField("image")+'"/>'),k=d.el+" li:eq("+vars.current_slide+")";if(j.appendTo(k).wrap("<a "+g+b+"></a>").parent().parent().addClass("image-loading activeslide"),j.load(function(){d._origDim(a(this)),d.resizeNow(),d.launch(),"undefined"!=typeof theme&&"function"==typeof theme._init&&theme._init()}),d.options.slides.length>1){loadNext=vars.current_slide==d.options.slides.length-1?0:vars.current_slide+1,g=d.options.slides[loadNext].url?"href='"+d.options.slides[loadNext].url+"'":"";var l=a('<img src="'+d.options.slides[loadNext].image+'"/>'),m=d.el+" li:eq("+loadNext+")";l.appendTo(m).wrap("<a "+g+b+"></a>").parent().parent().addClass("image-loading"),l.load(function(){a(this).data("origWidth",a(this).width()).data("origHeight",a(this).height()),d.resizeNow()})}d.$el.css("visibility","hidden"),a(".load-item").hide()},d.launch=function(){d.$el.css("visibility","visible"),a("#supersized-loader").remove(),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("next"),a(".load-item").show(),d.options.keyboard_nav&&a(document.documentElement).keyup(function(b){return vars.in_animation?!1:a(document.activeElement).is("input, textarea")?!1:(37==b.keyCode||40==b.keyCode?(clearInterval(vars.slideshow_interval),d.prevSlide()):39==b.keyCode||38==b.keyCode?(clearInterval(vars.slideshow_interval),d.nextSlide()):32!=b.keyCode||vars.hover_pause||(clearInterval(vars.slideshow_interval),d.playToggle()),void 0)}),d.options.slideshow&&d.options.pause_hover&&a(d.el).hover(function(){return vars.in_animation?!1:(vars.hover_pause=!0,vars.is_paused||(vars.hover_pause="resume",d.playToggle()),void 0)},function(){"resume"==vars.hover_pause&&(d.playToggle(),vars.hover_pause=!1)}),d.options.slide_links&&a(vars.slide_list+"> li").click(function(){return index=a(vars.slide_list+"> li").index(this),targetSlide=index+1,d.goTo(targetSlide),!1}),d.options.thumb_links&&a(vars.thumb_list+"> li").click(function(){return index=a(vars.thumb_list+"> li").index(this),targetSlide=index+1,api.goTo(targetSlide),!1}),d.options.slideshow&&d.options.slides.length>1&&(d.options.autoplay&&d.options.slides.length>1?vars.slideshow_interval=setInterval(d.nextSlide,d.options.slide_interval):vars.is_paused=!0,a(".load-item img").bind("contextmenu mousedown",function(){return!1})),a(window).resize(function(){d.resizeNow()})},d.resizeNow=function(){return d.$el.each(function(){return a("img",d.el).each(function(){function g(a){a?(thisSlide.width()<c||thisSlide.width()<d.options.min_width)&&(thisSlide.width()*b>=d.options.min_height?(thisSlide.width(d.options.min_width),thisSlide.height(thisSlide.width()*b)):h()):d.options.min_height>=e&&!d.options.fit_landscape?c*b>=d.options.min_height||c*b>=d.options.min_height&&1>=b?(thisSlide.width(c),thisSlide.height(c*b)):b>1?(thisSlide.height(d.options.min_height),thisSlide.width(thisSlide.height()/b)):thisSlide.width()<c&&(thisSlide.width(c),thisSlide.height(thisSlide.width()*b)):(thisSlide.width(c),thisSlide.height(c*b))}function h(a){a?thisSlide.height()<e&&(thisSlide.height()/b>=d.options.min_width?(thisSlide.height(d.options.min_height),thisSlide.width(thisSlide.height()/b)):g(!0)):d.options.min_width>=c?e/b>=d.options.min_width||b>1?(thisSlide.height(e),thisSlide.width(e/b)):1>=b&&(thisSlide.width(d.options.min_width),thisSlide.height(thisSlide.width()*b)):(thisSlide.height(e),thisSlide.width(e/b))}thisSlide=a(this);var b=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2),c=d.$el.width(),e=d.$el.height();d.options.fit_always?e/c>b?g():h():e<=d.options.min_height&&c<=d.options.min_width?e/c>b?d.options.fit_landscape&&1>b?g(!0):h(!0):d.options.fit_portrait&&b>=1?h(!0):g(!0):c<=d.options.min_width?e/c>b?d.options.fit_landscape&&1>b?g(!0):h():d.options.fit_portrait&&b>=1?h():g(!0):e<=d.options.min_height?e/c>b?d.options.fit_landscape&&1>b?g():h(!0):d.options.fit_portrait&&b>=1?h(!0):g():e/c>b?d.options.fit_landscape&&1>b?g():h():d.options.fit_portrait&&b>=1?h():g(),thisSlide.parents("li").hasClass("image-loading")&&a(".image-loading").removeClass("image-loading"),d.options.horizontal_center&&a(this).css("left",(c-a(this).width())/2),d.options.vertical_center&&a(this).css("top",(e-a(this).height())/2)}),d.options.image_protect&&a("img",d.el).bind("contextmenu mousedown",function(){return!1}),!1})},d.nextSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0,clearInterval(vars.slideshow_interval);var c=(d.options.slides,d.$el.find(".activeslide"));a(".prevslide").removeClass("prevslide"),c.removeClass("activeslide").addClass("prevslide"),vars.current_slide+1==d.options.slides.length?vars.current_slide=0:vars.current_slide++;var e=a(d.el+" li:eq("+vars.current_slide+")");d.$el.find(".prevslide"),1==d.options.performance&&d.$el.removeClass("quality").addClass("speed"),loadSlide=!1,loadSlide=vars.current_slide==d.options.slides.length-1?0:vars.current_slide+1;var g=d.el+" li:eq("+loadSlide+")";if(!a(g).html()){var h=d.options.new_window?' target="_blank"':"";imageLink=d.options.slides[loadSlide].url?"href='"+d.options.slides[loadSlide].url+"'":"";var i=a('<img src="'+d.options.slides[loadSlide].image+'"/>');i.appendTo(g).wrap("<a "+imageLink+h+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),i.load(function(){d._origDim(a(this)),d.resizeNow()})}switch(1==d.options.thumbnail_navigation&&(prevThumb=vars.current_slide-1<0?d.options.slides.length-1:vars.current_slide-1,a(vars.prev_thumb).html(a("<img/>").attr("src",d.options.slides[prevThumb].image)),nextThumb=loadSlide,a(vars.next_thumb).html(a("<img/>").attr("src",d.options.slides[nextThumb].image))),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("next"),d.options.slide_links&&(a(".current-slide").removeClass("current-slide"),a(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")),e.css("visibility","hidden").addClass("activeslide"),d.options.transition){case 0:case"none":e.css("visibility","visible"),vars.in_animation=!1,d.afterAnimation();break;case 1:case"fade":e.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!0},d.options.transition_speed,function(){d.afterAnimation()});break;case 2:case"slideTop":e.css({top:-d.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 3:case"slideRight":e.css({left:d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 4:case"slideBottom":e.css({top:d.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 5:case"slideLeft":e.css({left:-d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 6:case"carouselRight":e.css({left:d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()}),c.animate({left:-d.$el.width(),avoidTransforms:!1},d.options.transition_speed);break;case 7:case"carouselLeft":e.css({left:-d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()}),c.animate({left:d.$el.width(),avoidTransforms:!1},d.options.transition_speed)}return!1},d.prevSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0,clearInterval(vars.slideshow_interval);var c=(d.options.slides,d.$el.find(".activeslide"));a(".prevslide").removeClass("prevslide"),c.removeClass("activeslide").addClass("prevslide"),0==vars.current_slide?vars.current_slide=d.options.slides.length-1:vars.current_slide--;var e=a(d.el+" li:eq("+vars.current_slide+")");d.$el.find(".prevslide"),1==d.options.performance&&d.$el.removeClass("quality").addClass("speed"),loadSlide=vars.current_slide;var g=d.el+" li:eq("+loadSlide+")";if(!a(g).html()){var h=d.options.new_window?' target="_blank"':"";imageLink=d.options.slides[loadSlide].url?"href='"+d.options.slides[loadSlide].url+"'":"";var i=a('<img src="'+d.options.slides[loadSlide].image+'"/>');i.appendTo(g).wrap("<a "+imageLink+h+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),i.load(function(){d._origDim(a(this)),d.resizeNow()})}switch(1==d.options.thumbnail_navigation&&(prevThumb=0==loadSlide?d.options.slides.length-1:loadSlide-1,a(vars.prev_thumb).html(a("<img/>").attr("src",d.options.slides[prevThumb].image)),nextThumb=vars.current_slide==d.options.slides.length-1?0:vars.current_slide+1,a(vars.next_thumb).html(a("<img/>").attr("src",d.options.slides[nextThumb].image))),"undefined"!=typeof theme&&"function"==typeof theme.beforeAnimation&&theme.beforeAnimation("prev"),d.options.slide_links&&(a(".current-slide").removeClass("current-slide"),a(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")),e.css("visibility","hidden").addClass("activeslide"),d.options.transition){case 0:case"none":e.css("visibility","visible"),vars.in_animation=!1,d.afterAnimation();break;case 1:case"fade":e.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 2:case"slideTop":e.css({top:d.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 3:case"slideRight":e.css({left:-d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 4:case"slideBottom":e.css({top:-d.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 5:case"slideLeft":e.css({left:d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()});break;case 6:case"carouselRight":e.css({left:-d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()}),c.css({left:0}).animate({left:d.$el.width(),avoidTransforms:!1},d.options.transition_speed);break;case 7:case"carouselLeft":e.css({left:d.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},d.options.transition_speed,function(){d.afterAnimation()}),c.css({left:0}).animate({left:-d.$el.width(),avoidTransforms:!1},d.options.transition_speed)}return!1},d.playToggle=function(){return vars.in_animation||!api.options.slideshow?!1:(vars.is_paused?(vars.is_paused=!1,"undefined"!=typeof theme&&"function"==typeof theme.playToggle&&theme.playToggle("play"),vars.slideshow_interval=setInterval(d.nextSlide,d.options.slide_interval)):(vars.is_paused=!0,"undefined"!=typeof theme&&"function"==typeof theme.playToggle&&theme.playToggle("pause"),clearInterval(vars.slideshow_interval)),!1)},d.goTo=function(b){if(vars.in_animation||!api.options.slideshow)return!1;var c=d.options.slides.length;return 0>b?b=c:b>c&&(b=1),b=c-b+1,clearInterval(vars.slideshow_interval),"undefined"!=typeof theme&&"function"==typeof theme.goTo&&theme.goTo(),vars.current_slide==c-b?(vars.is_paused||(vars.slideshow_interval=setInterval(d.nextSlide,d.options.slide_interval)),!1):(c-b>vars.current_slide?(vars.current_slide=c-b-1,vars.update_images="next",d._placeSlide(vars.update_images)):c-b<vars.current_slide&&(vars.current_slide=c-b+1,vars.update_images="prev",d._placeSlide(vars.update_images)),d.options.slide_links&&(a(vars.slide_list+"> .current-slide").removeClass("current-slide"),a(vars.slide_list+"> li").eq(c-b).addClass("current-slide")),d.options.thumb_links&&(a(vars.thumb_list+"> .current-thumb").removeClass("current-thumb"),a(vars.thumb_list+"> li").eq(c-b).addClass("current-thumb")),void 0)},d._placeSlide=function(b){var c=d.options.new_window?' target="_blank"':"";if(loadSlide=!1,"next"==b){loadSlide=vars.current_slide==d.options.slides.length-1?0:vars.current_slide+1;var e=d.el+" li:eq("+loadSlide+")";if(!a(e).html()){var c=d.options.new_window?' target="_blank"':"";imageLink=d.options.slides[loadSlide].url?"href='"+d.options.slides[loadSlide].url+"'":"";var f=a('<img src="'+d.options.slides[loadSlide].image+'"/>');f.appendTo(e).wrap("<a "+imageLink+c+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),f.load(function(){d._origDim(a(this)),d.resizeNow()})}d.nextSlide()}else if("prev"==b){loadSlide=vars.current_slide-1<0?d.options.slides.length-1:vars.current_slide-1;var e=d.el+" li:eq("+loadSlide+")";if(!a(e).html()){var c=d.options.new_window?' target="_blank"':"";imageLink=d.options.slides[loadSlide].url?"href='"+d.options.slides[loadSlide].url+"'":"";var f=a('<img src="'+d.options.slides[loadSlide].image+'"/>');f.appendTo(e).wrap("<a "+imageLink+c+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden"),f.load(function(){d._origDim(a(this)),d.resizeNow()})}d.prevSlide()}},d._origDim=function(a){a.data("origWidth",a.width()).data("origHeight",a.height())},d.afterAnimation=function(){return 1==d.options.performance&&d.$el.removeClass("speed").addClass("quality"),vars.update_images&&(setPrev=vars.current_slide-1<0?d.options.slides.length-1:vars.current_slide-1,vars.update_images=!1,a(".prevslide").removeClass("prevslide"),a(d.el+" li:eq("+setPrev+")").addClass("prevslide")),vars.in_animation=!1,!vars.is_paused&&d.options.slideshow&&(vars.slideshow_interval=setInterval(d.nextSlide,d.options.slide_interval),d.options.stop_loop&&vars.current_slide==d.options.slides.length-1&&d.playToggle()),"undefined"!=typeof theme&&"function"==typeof theme.afterAnimation&&theme.afterAnimation(),!1},d.getField=function(a){return d.options.slides[vars.current_slide][a]},d.init()},a.supersized.vars={thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",slide_list:"#slide-list",current_slide:0,in_animation:!1,is_paused:!1,hover_pause:!1,slideshow_interval:!1,update_images:!1,options:{}},a.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5e3,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,thumbnail_navigation:0},a.fn.supersized=function(b){return this.each(function(){new a.supersized(b)})}}(jQuery);