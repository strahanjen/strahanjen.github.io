var PHDL=PHDL||{};!function(a,b){a(function(){b.BrowserDeviceDetection.init(),b.OpenMobileMenu.init(),b.TabToggle.init(),b.ImagePush.init(),b.MenuNav.init(),b.DisableTeleLinks.init(),b.FormToggle.init(),b.ListToDropDown.init(),b.ScrollToTop.init(),b.IE8ImageSwap.init(),b.SimpleCarousel.init(),b.AlertMessage.init()}),b.BrowserDeviceDetection={userAgent:void 0,$html:void 0,init:function(){b.Features=b.Features||{},this.userAgent=navigator.userAgent.toLowerCase(),this.$html=a("html"),this.noTouch(),this.isTouch(),this.isIE10(),this.isIE9(),this.isIE8(),this.isIE(),this.isIPad(),this.isAndroid()},noTouch:function(){return"ontouchstart"in window?void(b.Features.noTouch=!1):(b.Features.noTouch=!1,void this.$html.addClass("notouch"))},isTouch:function(){return"ontouchstart"in window?(b.Features.isTouch=!1,void this.$html.addClass("istouch")):void(b.Features.isTouch=!1)},isIE10:function(){return-1!==navigator.appVersion.indexOf("MSIE 10")?(this.$html.addClass("isIE10"),void(b.Features.isIE10=!0)):void(b.Features.isIE10=!1)},isIE9:function(){return-1!==navigator.appVersion.indexOf("MSIE 9")?(this.$html.addClass("isIE9"),void(b.Features.isIE9=!0)):void(b.Features.isIE9=!1)},isIE8:function(){return-1!==navigator.appVersion.indexOf("MSIE 8")?(this.$html.addClass("isIE8"),void(b.Features.isIE8=!0)):void(b.Features.isIE9=!1)},isIE:function(){return-1!==navigator.appVersion.indexOf("MSIE")?(this.$html.addClass("isIE"),void(b.Features.isIE=!0)):void(b.Features.isIE=!1)},isIPad:function(){return this.userAgent.indexOf("ipad")>-1?(this.$html.addClass("isIpad"),void(b.Features.isIPad=!0)):void(b.Features.isIPad=!1)},isAndroid:function(){return this.userAgent.indexOf("android")>-1?(this.$html.addClass("isAndroid"),void(b.Features.isAndroid=!0)):void(b.Features.isAndroid=!1)}},b.OpenMobileMenu={init:function(){var b=a(".js-menuTrigger");b.length&&(this.$openMobileMenu=b,this.bind())},bind:function(){a(".js-menuTrigger").click(function(){a(".globalHeader-panel").hasClass("isOpen")?(a(".globalHeader-panel").removeClass("isOpen"),a("body").removeClass("mobileMenuIsOpen"),a(".globalNav").removeClass("isOpen"),a(".js-menuTrigger").removeClass("isOpen")):(a(".globalHeader-panel").addClass("isOpen"),a(".globalNav").addClass("isOpen"),a("body").addClass("mobileMenuIsOpen"),a(".js-menuTrigger").addClass("isOpen"))})}},b.TabToggle={$tabToggle:void 0,init:function(){var b=a(".js-tabList");b.length&&(this.$tabToggle=b,this.bind())},bind:function(){a(".js-tabList > *:first").addClass("isOpen");var b=a(".js-tabList > * > .tab-tab");b.click(function(){if(a(".js-tabList").hasClass("isOpen"))a(".js-tabList").removeClass("isOpen"),a(".tabs").css("height","auto");else{a(".js-tabList").addClass("isOpen");var b=a(".tabs").css("overflow");if("hidden"===b)a(".tabs").css("height","auto");else{var c=a(".tabs.isOpen .isOpen .tab-bd").outerHeight()+45;a(".tabs").css("height",c)}}a(this).parent().siblings().removeClass("isOpen"),a(this).parent().addClass("isOpen"),a(".js-tabList").hasClass("isOpen")||a(".tabs").css("height","auto")})}},b.ImagePush={init:function(){var b=a(".js-imgPush");b.length&&(this.$imagePush=b,this.bind())},bind:function(){a(window).load(function(){a(".js-imgPush").each(function(){var b=a(this).width();a(this).attr("width",b),a(this).css("left","50%"),a(this).css("margin-left",+b/-2+"px"),a(this).addClass("isVisible")})}),a(window).resize(function(){a(".js-imgPush").each(function(){var b=a(this).width();a(this).attr("width",b),a(this).css("left","50%"),a(this).css("margin-left",+b/-2+"px")})})}},b.MenuNav={init:function(){var b=a(".js-menuNav");b.length&&(this.$menuNav=b,this.bind())},bind:function(){a(".js-breadToggle").click(function(){a(".js-breads").hasClass("isCurrent")?(a(".menuCategory").removeClass("isCurrent"),a(".js-breads").addClass("isCurrent")):(a(".menuCategory").removeClass("isCurrent"),a(".js-breads").addClass("isCurrent"))}),a(".js-specialToggle").click(function(){a(".js-specials").hasClass("isCurrent")?(a(".menuCategory").removeClass("isCurrent"),a(".js-specials").addClass("isCurrent")):(a(".menuCategory").removeClass("isCurrent"),a(".js-specials").addClass("isCurrent"))}),a(".js-sweetToggle").click(function(){a(".js-sweets").hasClass("isCurrent")?(a(".menuCategory").removeClass("isCurrent"),a(".js-sweets").addClass("isCurrent")):(a(".menuCategory").removeClass("isCurrent"),a(".js-sweets").addClass("isCurrent"))}),a(".js-confectionToggle").click(function(){a(".js-confections").hasClass("isCurrent")?(a(".menuCategory").removeClass("isCurrent"),a(".js-confections").addClass("isCurrent")):(a(".menuCategory").removeClass("isCurrent"),a(".js-confections").addClass("isCurrent"))}),a(".js-iceCreamToggle").click(function(){a(".js-iceCream").hasClass("isCurrent")?(a(".menuCategory").removeClass("isCurrent"),a(".js-iceCream").addClass("isCurrent")):(a(".menuCategory").removeClass("isCurrent"),a(".js-iceCream").addClass("isCurrent"))}),a(".js-coffeeToggle").click(function(){a(".js-coffee").hasClass("isCurrent")?(a(".menuCategory").removeClass("isCurrent"),a(".js-coffee").addClass("isCurrent")):(a(".menuCategory").removeClass("isCurrent"),a(".js-coffee").addClass("isCurrent"))})}},b.ListToDropDown={init:function(){var b=a(".js-openDropDown");b.length&&(this.$listToDropDwon=b,this.bind())},bind:function(){a(".js-openMenu").click(function(){a(this).hasClass("isOpen")?a(this).removeClass("isOpen"):a(this).addClass("isOpen")}),a(".js-openMenu > *").click(function(){a(this).hasClass("isCurrent")||(a(".js-openMenu > *").removeClass("isCurrent"),a(this).addClass("isCurrent"))})}},b.DisableTeleLinks={init:function(){var b=a(".tel");b.length&&(this.$disableTeleLinks=b,this.bind())},bind:function(){a(".notouch .tel").click(function(a){a.stopPropagation()})}},b.FormToggle={init:function(){var b=a(".js-formToggle");b.length&&(this.$formToggle=b,this.bind())},bind:function(){a(".js-formToggle").click(function(){a(".form_feedback").hasClass("isCurrent")?(a(".form_feedback").removeClass("isCurrent"),a(".form_general").addClass("isCurrent")):(a(".form").removeClass("isCurrent"),a(".form_feedback").addClass("isCurrent"))})}},b.ScrollToTop={init:function(){var b=a(".js-scrollToTop");b.length&&(this.$scrollToTop=b,this.bind())},bind:function(){a(".js-scrollToTop").click(function(){a("html, body").animate({scrollTop:0},1e3)}),a(window).scroll(function(){a(window).scrollTop()+a(window).height()>=a(".main").height()+140?a(".js-scrollToTop").addClass("inFooter"):a(".js-scrollToTop").removeClass("inFooter"),a(window).scrollTop()>a(window).height()?a(".js-scrollToTop").addClass("isVisible"):a(".js-scrollToTop").removeClass("isVisible")})}},b.IE8ImageSwap={init:function(){var b=a(".isIE8");b.length&&(this.$iE8ImageSwap=b,this.bind())},bind:function(){a(document).ready(function(){a('.isIE8 img[src$=".svg"]').each(function(){var b=a(this);b.attr("src",b.attr("src").replace(/svg$/,"png"))})})}},b.SimpleCarousel={init:function(){var b=a(".carousel");b.length&&(this.$simpleCarousel=b,this.bind())},bind:function(){function b(){a(".carousel-slide.isActive").appendTo(".carousel").removeClass("isActive"),a(".carousel").children(":first").addClass("isActive")}a(".carousel").children(":first").addClass("isActive"),setInterval(function(){b()},1e4)}},b.AlertMessage={init:function(){var b=a(".alertMessage");b.length&&(this.$alertMessage=b,this.bind())},bind:function(){a(window).load(function(){a(".alertMessage").addClass("isVisible"),setTimeout(function(){a(".alertMessage").removeClass("isVisible")},1e4)}),a(".js-closeAlertMessage").click(function(){a(".alertMessage").removeClass("isVisible")})}}}(jQuery,PHDL);